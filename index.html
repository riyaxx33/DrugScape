<!DOCTYPE html>
<!-- __V3D_PUZZLES__ - enable Puzzles button in the App Manager -->
<!-- __V3D_TEMPLATE__ - template-based file; delete this line to prevent this file from being updated -->
<html lang="en">
<head>
  <title>Verge3D Web Interactive</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

  <!-- Search Engines -->
  <meta name="description" content="Interactive 3D Web application made with Verge3D. Immerse yourself in amazing graphics experience offered by state-of-the art WebGL and HTML5 technologies.">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Verge3D Web Interactive">
  <meta name="twitter:description" content="Interactive 3D Web application made with Verge3D. Immerse yourself in amazing graphics experience offered by state-of-the art WebGL and HTML5 technologies.">
  <meta name="twitter:image:src" content="https://cdn.soft8soft.com/images/player_socials.jpg">
  <!-- Open Graph -->
  <meta property="og:title" content="Verge3D Web Interactive">
  <meta property="og:description" content="Interactive 3D Web application made with Verge3D. Immerse yourself in amazing graphics experience offered by state-of-the art WebGL and HTML5 technologies.">
  <meta property="og:image" content="https://cdn.soft8soft.com/images/player_socials.jpg">
  <meta property="og:type" content="website">

  <meta name="generator" content="Verge3D 4.7.1">

  <!-- favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="media/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="48x48" href="media/favicon-48x48.png">
  <link rel="icon" type="image/png" sizes="32x32" href="media/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="media/favicon-16x16.png">
  <link rel="manifest" href="media/manifest.json">
  <link rel="mask-icon" href="media/safari-pinned-tab.svg" color="#0048a5">
  <meta name="theme-color" content="#ffffff">

  <script src="v3d.js"></script>
  <script src="Ltb_Drugscape.js"></script>

  <link rel="stylesheet" type="text/css" href="Ltb_Drugscape.css">

  
</head>

<body>

    <div class="modal-overlay" id="instructionModal">
        <div class="modal">
            <h2>Welcome to Drugscape!</h2>
            <p>In this journey, you will get to experience the journey of an abandoned HDB block 78 which was a once-vibrant community life that began to unravel as drugs infiltrated....<br>
                To proceed to another room and escape this block, you will need to answer a set number of questions per room stated at the start. Use the arrow keys to walk around, and trackpad or mouse to look around. Click on objects to get clues and answer questions.<br><br>
                Are you ready to take on the challenge?<br>Click on the door to begin.</p>
            <button class="close-button" onclick="closeInstructionModal()">I'm ready!</button>
        </div>
    </div>



    <script>
        // Show modal when page loads
        window.onload = function() {
            document.getElementById('instructionModal').style.display = 'flex';
        };
        


        // Function to close the modal
        function closeInstructionModal() {
            document.getElementById('instructionModal').style.display = 'none';
        }

    

    </script>
  <div id="v3d-container">
    <div id="fullscreen-button" class="fullscreen-button fullscreen-open" title="Toggle fullscreen mode"></div>
  </div>



<div id="popupOverlay"></div>
<div id="questionPopup">
    <h2 id="questionText">Question will go here</h2>
    <div id="optionsContainer"></div>
    <button id="closeButton">Close</button>
</div>
<div id="question-popup" style="display:none;">
    <div id="question-text">Please enter your answer:</div>
    <input type="text" id="user-answer" placeholder="Type your answer here">
    <button id="submit-answer">Submit Answer</button>
</div>


<!-- <script >
    // Create an array to hold your questions
    const questions = [
        {
            question: "What is the minimum sentence received for consuming drugs?",
            options: ["5", "1","10", "Life Sentence"],
            answer: 1,
            explanation: "The punishment provision can be found in the Section 33(3A) of the MDA, which provides for an imprisonment term of not less than one year but not more than 10 years and also a fine not exceeding $20,000 (this applies only to offences after 1 April 2019)"
        },
        {
            question: "Some of the commonlly consumed drugs in Singapore are Methamphetamine, heroin, and cannabis. How many hits per hour is considered safe?",
            options: ["3", "5", "0", "1"],
            answer: 2, // Index of the correct answer
            explanation: "Explanation: No amount of hits is considered safe! There is often widespread falsehoods on drug use. You should always evaluate the information correctly before making a decision!"
        },
        {
            question: "Which of the following is a consequence of drugs?",
            options: ["Memory loss", "Death", "Dilated pupils", "Anxiety","All of the above"],
            answer: 4, // Index of the correct answer
            explanation: "Explanation: These are just some of the symptoms of taking drugs. Taking drugs not only affects your health and wellbeing, it can also affect aspects in your life such as career and strain relationships with your loved ones, affecting their quality of life!"
        },
        {
            question: "What could be the reasons for first-time drug use among young adults?",
            options: ["Peer pressure", "Academic stress", "Curiosity", "All of the above"],
            answer: 3,
            explanation: ""

        },
        {
            question: "What do you think drug dealers might do to gain a new customer’s trust?",
            options: ["Offer them free samples to try", "Share personal stories about how they started using drugs",
            "Present themselves as friends who genuinely care and that they want to share the joy of drug use", "All of the above"],
            answer: 3,
            explanation: "Drug dealers could use any tactics to convince others to buy and they will usually talk about the benefits without mentioning the consequences!"
        },

        {
            question: "What is the best resource for someone struggling to find a coping mechanism?",
            options: ["Offer to talk to them", "Offer healthy alternaives to substances",
            "Encorage them to speak to a trusted adult or professional", "All of the above"],
            answer: 1,
            explanation: "Try to help a friend who is struggling because at least, you would have tried!"
        }
        
    ];


    // Example questions and answers (you can customize this)
    const textquestions = [
    { text: `October 16<br>
        Dear diary, today was just another day of suffocating expectations. I spent hours buried in textbooks, my parents' voices echoing in my mind—“You must excel, Mei Lin. You’re our pride.” Sometimes I wonder if they even see me, the real me, beneath the grades and accolades.<br>
        But then there was Kai. He’s different—wild, carefree, and completely unbothered by the weight of expectations. When he laughed, it felt like a spark ignited inside me. He showed me a world where the rules bend and break, where I could actually breathe.<br>
        I can't believe I let him pull me in so easily. The pills, the powder... they were supposed to be a way to escape, to feel something other than this relentless pressure. It worked, for a moment. But now, the rush is fading, and the reality of what I’ve done is sinking in.<br>
        I thought I could handle it, but I’m scared. Scared of what I’m becoming, scared of my parents finding out, and scared of facing myself. I can’t keep living like this.<br>
        I need to dispose of the drugs. It’s the only way to reclaim a piece of myself. They’re in the next room, and I can’t let them control me any longer. Maybe this is the first step towards freedom.<br>
        I just hope I’m brave enough to take it.<br><br> What would you say to persuade Mei Lin not to use drugs if you found her diary as a friend?`, hotspot: "R2_1_Diary" },
        { text: "How will you say no to drugs?", hotspot: "R3_2" }
    ];

    // Define function to match Verge3D's execution context
    function showMCQPopup(app, v3d, puzzles, VARS, PROC) {
        const questionIndex = 0; // hardcode to first question or modify as needed
        const question = questions[questionIndex];
        
        const modalHTML = `
            <div class="modal-overlay" id="mcqModal">
                <div class="modal">
                    <h2>${question.question}</h2>
                    <div class="options-container">
                        ${question.options.map((option, index) => `
                            <button class="option-button" onclick="checkMCQAnswer(${index}, ${questionIndex})">${option}</button>
                        `).join('')}
                    </div>
                </div>
            </div>
        `;

        document.body.insertAdjacentHTML('beforeend', modalHTML);
        
        // Get modal and display it
        const modal = document.getElementById('mcqModal');
        if (modal) {
            modal.style.display = 'flex';
        }
    }

    // Make functions globally available
    window.showMCQPopup = showMCQPopup;
    
    window.checkMCQAnswer = function(selectedIndex, questionIndex) {
        const question = questions[questionIndex];
        if (selectedIndex === question.answer) {
            alert("Correct!" + (question.explanation ? "\n\n" + question.explanation : ""));
            closeMCQModal();
        } else {
            alert("Wrong answer. Please try again.");
        }
    };

    window.closeMCQModal = function() {
        const modal = document.getElementById('mcqModal');
        if (modal) {
            modal.remove();
        }
    };
    </script>

    <script>
        function showTextInput(hotspot) {
            currentHotspot = hotspot; // Store the current hotspot to remove later
            
            // Find the corresponding question based on the hotspot clicked
            const question = textquestions.find(q => q.hotspot === hotspot.name); // Adjust to how you store hotspot names

            if (question) {
                document.getElementById('question-text').innerText = textquestions.text; // Set the question text
            }

            document.getElementById('question-popup').style.display = 'block';
            document.getElementById('user-answer').value = ''; // Clear previous input
        }

        // Handle the submit button
        document.getElementById('submit-answer').addEventListener('click', function() {
            const userAnswer = document.getElementById('user-answer').value.trim();
            
            if (currentHotspot) {
                // Logic to remove or hide the hotspot
                currentHotspot.visible = false; // Example: hide the hotspot in Verge3D
            }
            
            // Optionally, log the user's answer
            console.log("User Answer Submitted: " + userAnswer);
            
            document.getElementById('question-popup').style.display = 'none'; // Close the popup
        });
    </script>
</body> -->

</html>
